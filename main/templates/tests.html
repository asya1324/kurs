{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Tests – Itestoria</title>
    <link rel="stylesheet" href="{% static 'css/alltests.css' %}">
</head>

<body>

<header class="navbar">
    <div class="brand">Itestoria<span class="dot"></span></div>

    <nav class="nav-links">
        <a href="{% url 'home' %}">Home</a>
        <a href="{% url 'tests' %}">Tests</a>

        {% if user.is_authenticated %}
        <div class="profile-menu">
            <span class="profile-name">{{ user.username }}</span>
            <a href="{% url 'my_tests' %}" class="btn small-btn">My tests</a>
            <a href="{% url 'simple_logout' %}" class="btn small-btn logout-btn">Logout</a>
        </div>
        {% else %}
            <a href="{% url 'register' %}" class="btn">Sign up</a>
            <a href="{% url 'login' %}" class="btn secondary same">Log in</a>
        {% endif %}
    </nav>
</header>

<main class="tests-container">

    <div class="tests-header">
        <h1>All Tests</h1>
        <a href="{% url 'test_create' %}" class="create-btn">+ Create test</a>
    </div>

    <div class="tests-grid">
        {% for test, qcount in tests %}
        <div class="test-card">
            <a href="{% url 'test_detail' test.id %}" class="test-link">
                <h2>{{ test.title }}</h2>
                <p>{{ test.description }}</p>
                <span class="q-count">{{ qcount }} questions</span>
            </a>
        </div>
        {% endfor %}
    </div>

</main>

<footer class="footer">
    © 2025 Itestoria. All rights reserved.
</footer>

</body>
</html>
